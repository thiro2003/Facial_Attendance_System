{% extends "base.html" %} {% block title %}Login{% endblock title %} {% block
content %}


<div class="container">
    {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }}">{{ message }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}
</div>


<h2 class="text-center">Welcome {{user}}</h2>
<div class="container mt-5 bg-white h-100 w-100 p-5 text-center rounded">
  <a href="{{ url_for('mark_attendance') }}" class="btn btn-success mt-5 mb-5">
    Mark Attendance
  </a>
</div>
<div class="container mt-5">
  <table class="table table-dark table-striped border">
    <thead>
      <tr>
        <th scope="col">Sr.no</th>
        <th scope="col">Full Name</th>
        <th scope="col">Date</th>
        <th scope="col">Time</th>
        <th scope="col">Attendance</th>
      </tr>
    </thead>
    <tbody>
      {% for attendance in attendances %}

      <tr>
        <th scope="row">{{loop.index}}</th>
        <td>{{attendance.username}}</td>
        <td>{{attendance.date_time.date()}}</td>
        <td>{{attendance.date_time.time()}}</td>
      <td>
    {% if attendance.attendance %}
        Present
    {% else %}
        Absent
    {% endif %}
</td>

      </tr>

      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock content %}
